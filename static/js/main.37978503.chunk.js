(this.webpackJsonpdynamic_app=this.webpackJsonpdynamic_app||[]).push([[0],{100:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),l=a.n(r),s=(a(94),a(16)),i=a(29),o=a(159),m=a(160),u=a(157),p=a(61),d=(a(99),a(100),function(e){return{type:"DELETE_TASK",payload:e}}),f=Object(s.b)((function(e){return e}),{deleteTask:d,setIndex:function(e){return{type:"SET_INDEX",payload:e}}})((function(e){return Object(n.useEffect)((function(){e.setIndex({active_index:""})}),[]),c.a.createElement("div",null,e.task.allTask?e.task.allTask.map((function(t,a){return c.a.createElement(o.a,{key:t.id,className:e.task.active_index===a?"wrapper-task row active":"wrapper-task row",type:"flex",justify:"space-between"},c.a.createElement(m.a,{onClick:function(){return function(t){e.setIndex({active_index:t})}(a)},span:20},c.a.createElement("ul",{className:"ul"},c.a.createElement("li",null,t.name),c.a.createElement("span",{className:"quantity"},t.comments.length))),c.a.createElement(m.a,{span:3},c.a.createElement(p.a,{onClick:function(){return function(t){var a=e.task.allTask.filter((function(e){return e.id!==t}));e.deleteTask(a),e.setIndex({active_index:""})}(t.id)},className:"delete-btn"},"Delete")))})):null)})),E=Object(s.b)((function(e){return{allTask:e.task.allTask,active_index:e.task.active_index}}),{setComments:function(e){return{type:"SET_COMMENTS",payload:e}},deleteTask:d})((function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(""),p=Object(i.a)(s,2),d=p[0],f=p[1],E=u.a.TextArea;return Object(n.useEffect)((function(){void 0!==e.active_index&&e.allTask.map((function(t,a){e.active_index===a&&l(t.comments.map((function(e,t){return c.a.createElement(o.a,{className:"row wrapper-task",key:t},c.a.createElement(m.a,{span:4},c.a.createElement("div",{className:"photo"})),c.a.createElement(m.a,{span:17},c.a.createElement("p",{className:"text-comment"},e)))})))}))}),[e.active_index]),Object(n.useEffect)((function(){l("")}),[]),Object(n.useEffect)((function(){""===e.active_index&&l("")}),[e.active_index]),c.a.createElement("div",{className:"comments-wrapper"},c.a.createElement(o.a,{className:"row"},c.a.createElement(m.a,{span:3},c.a.createElement("h2",{className:"title"},"Comments #",""===e.active_index?"":e.active_index+1))),c.a.createElement("div",{className:"wrapper-comments"},r),c.a.createElement(o.a,{className:"comment row",type:"flex",justify:"center",allign:"bottom"},c.a.createElement(m.a,{span:3},c.a.createElement("div",{className:"image"})),c.a.createElement(m.a,{span:20},c.a.createElement(E,{className:"text-area",allign:"bottom",onKeyDown:function(t){if(t.ctrlKey&&13===t.keyCode){var a=e.allTask;void 0!==e.active_index&&null!==e.active_index&&(a[e.active_index].comments.push(t.target.value),e.setComments(a),f(""),l(e.allTask[e.active_index].comments.map((function(e,t){return c.a.createElement(o.a,{className:"row wrapper-task",key:t},c.a.createElement(m.a,{span:4},c.a.createElement("div",{className:"photo"})),c.a.createElement(m.a,{span:19},c.a.createElement("p",{className:"text-comment"},e)))}))))}},onChange:function(e){return f(e.target.value)},value:d}))))})),v=Object(s.b)((function(e){return{allTask:e.task.allTask}}),{setTask:function(e){return{type:"ADD_TASK",payload:e}}})((function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],l=a[1];return c.a.createElement("div",{className:"wrapper-background"},c.a.createElement("div",{className:"wrapper-blocks"},c.a.createElement("div",{className:"items"},c.a.createElement(o.a,{className:"row"},c.a.createElement(m.a,{span:3},c.a.createElement("h2",{className:"title"},"Items"))),c.a.createElement(o.a,{className:"row",type:"flex",justify:"space-between"},c.a.createElement(m.a,{span:15},c.a.createElement(u.a,{onChange:function(e){return l(e.target.value)},value:r,placeholder:"Type name here"})),c.a.createElement(m.a,{span:3},c.a.createElement(p.a,{onClick:function(){""!==r&&e.setTask({name:r,id:Math.random(),comments:[]}),l("")},className:"add-btn",type:"primary"},"Add new"))),c.a.createElement("div",{className:"scroll-items"},c.a.createElement(f,null))),c.a.createElement("div",{className:"comments"},c.a.createElement(E,null))))})),k=a(86),b=a(85),y=a(28);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={allTask:[],active_index:""};var N=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),x=Object(y.c)(Object(y.b)({task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_TASK":return w({},e,{allTask:[].concat(Object(k.a)(e.allTask),[n])});case"DELETE_TASK":return w({},e,{allTask:n});case"SET_INDEX":return w({},e,{active_index:n.active_index});case"SET_COMMENTS":return w({},e,{allTask:n});default:return w({},e)}}}),N);x.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(x.getState())}));var g=x;var _=function(){return c.a.createElement(s.a,{store:g},c.a.createElement("div",{className:"App"},c.a.createElement(v,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){e.exports=a(156)},94:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.37978503.chunk.js.map